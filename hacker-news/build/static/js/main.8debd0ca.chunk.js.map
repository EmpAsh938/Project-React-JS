{"version":3,"sources":["actions.js","reducer.js","context.js","SearchForm.js","Buttons.js","Articles.js","App.js","index.js"],"names":["SET_LOADING","SET_STORIES","REMOVE_STORY","HANDLE_PAGE","HANDLE_SEARCH","reducer","state","action","type","isLoading","hits","payload","nbPages","behaviour","currentPage","page","newObj","filter","item","objectID","query","Error","initialState","AppContext","React","createContext","AppProvider","children","useReducer","dispatch","fetchReq","url","a","fetch","response","json","data","console","log","useEffect","Provider","value","handleClick","nature","handleRemove","id","handleSearch","random","useGlobalContext","useContext","SearchForm","refInput","useRef","current","focus","className","onSubmit","e","preventDefault","ref","onChange","target","Buttons","onClick","Articles","length","map","title","author","points","num_comments","href","rel","App","ReactDOM","render","StrictMode","document","getElementById"],"mappings":"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","file":"static/js/main.8debd0ca.chunk.js","sourcesContent":["export const SET_LOADING = 'SET_LOADING'\nexport const SET_STORIES = 'SET_STORIES'\nexport const REMOVE_STORY = 'REMOVE_STORY'\nexport const HANDLE_PAGE = 'HANDLE_PAGE'\nexport const HANDLE_SEARCH = 'HANDLE_SEARCH'","import {\n    SET_LOADING,\n    SET_STORIES,\n    REMOVE_STORY,\n    HANDLE_PAGE,\n    HANDLE_SEARCH,\n} from './actions'\n\nconst reducer = (state, action) => {\n    switch (action.type) {\n        case SET_LOADING:\n            return { ...state, isLoading: true }\n            \n        case SET_STORIES:\n            return {\n                ...state,\n                isLoading: false,\n                hits: action.payload.hits,\n                nbPages: action.payload.nbPages,\n            }\n        \n        case HANDLE_PAGE:\n            if (action.payload.behaviour === 'INCREMENT') {\n                let currentPage = state.page + 1\n                if (currentPage > state.nbPages){\n                    currentPage =  0\n                }\n                return {\n                    ...state,\n                    page: currentPage\n                }\n            }\n            if (action.payload.behaviour === 'DECREMENT') {\n                let currentPage = state.page - 1\n                if (currentPage < 0 ) {\n                    currentPage = 50\n                }\n                return {\n                    ...state,\n                    page: currentPage\n                }\n            }\n            break\n        case REMOVE_STORY:\n            let newObj = state.hits.filter(item=>item.objectID !== action.payload)\n            return {\n                ...state,\n                hits: newObj \n            }\n\n        case HANDLE_SEARCH:\n            return {\n                ...state,\n                query: action.payload\n            }\n        default:\n            throw new Error('no matching type action')\n    }\n}\n\n\nexport default reducer","import React, { useContext, useReducer, useEffect } from 'react'\nimport reducer from './reducer'\n\n// importing action creators\nimport {\n    SET_LOADING,\n    SET_STORIES,\n    REMOVE_STORY,\n    HANDLE_PAGE,\n    HANDLE_SEARCH\n} from './actions'\n\nconst initialState = {\n    isLoading: false,\n    hits: [],\n    nbPages: 0,\n    page: 0,\n    query: '',\n}\n\nconst APIENDPOINT = 'https://hn.algolia.com/api/v1/search?'\n\nconst AppContext = React.createContext()\n\nconst AppProvider = ({children}) => {\n    const [state,dispatch] = useReducer(reducer,initialState)\n\n    const fetchReq = async (url) => {\n        dispatch({type: SET_LOADING})\n        try {\n            const response = await fetch(url)\n            const data = await response.json()\n            // console.log(data)\n            dispatch({\n                type: SET_STORIES, \n                payload: {hits: data.hits, nbPages: data.nbPages}\n            })\n        } catch (error) {\n            console.log(error)\n            // dispatch({type: 'LOADING', payload: false})\n        }\n    }\n\n    useEffect(() => {\n        fetchReq(`${APIENDPOINT}query=${state.query}&page=${state.page}`)\n    },[state.page, state.query])\n\n    // Buttons\n    const handleClick = (nature) => {\n        dispatch({\n            type: HANDLE_PAGE,\n            payload: {behaviour: nature}\n        })\n    }\n\n    const handleRemove = (id) => {\n        dispatch({\n            type: REMOVE_STORY,\n            payload: id\n        })\n    }\n\n    const handleSearch = (random) => {\n        dispatch({\n            type: HANDLE_SEARCH,\n            payload: random\n        })\n    }\n\n    return (\n        <AppContext.Provider value={{\n            ...state,\n            handleClick,\n            handleRemove,\n            handleSearch,\n        }}>\n            {children}\n        </AppContext.Provider>\n    )\n}\n\nexport const useGlobalContext = () => {\n    return useContext(AppContext)\n}\n\nexport  { AppProvider, AppContext }\n","import React, { useRef, useEffect } from 'react'\nimport { useGlobalContext } from './context'\n\n\nconst SearchForm = () => {\n    const { query, handleSearch } = useGlobalContext()\n\n    \n    // using useRef Hooks\n    const refInput = useRef(null)\n    useEffect(() => {\n        // console.log(refInput.current)\n        refInput.current.focus()\n    }, [])\n\n\n    return (\n        <form className='form-container' onSubmit={(e) => e.preventDefault()}>\n            <h1 className='form-container__header' >Search hacker news</h1>\n            <input\n                type='text'\n                className='form-container__input'\n                value={query}\n                ref={refInput}\n                onChange={(e) => handleSearch(e.target.value)}\n            />\n        </form>\n    )\n}\n\nexport default SearchForm\n","import React from 'react'\nimport { useGlobalContext } from './context'\n\nconst Buttons = () => {\n    const { handleClick, page, nbPages } = useGlobalContext()\n    return (\n        <div className='button-container'>\n            <button\n            className='button-container__btn' \n            onClick={ () => handleClick('DECREMENT')}\n            >\n                prev\n            </button>\n            <p className='button-container__text'> {page} of {nbPages}</p>\n            <button\n            className='button-container__btn' \n            onClick={ () => handleClick('INCREMENT')}\n            >\n                next\n            </button>\n        </div>\n    )\n}\n\nexport default Buttons\n","import React from 'react'\nimport { useGlobalContext } from './context'\n\nconst Articles = () => {\n    const { isLoading, hits, handleRemove} = useGlobalContext()\n    if (isLoading) {\n        return (\n            <div className='loader'></div>\n        )\n    }\n    if (hits.length === 0) {\n        return (\n            <div className='article__content__header error'>Could Not Found</div>\n        )\n    }\n    return (\n        <div className='article'>\n            {hits.map(value=>{\n                const { \n                    title,\n                    url,\n                    author,\n                    points,\n                    num_comments,\n                    objectID,\n                } = value\n                // console.log(value)\n                return (\n                    <article key={objectID} className='article__content'>\n                        <h3 className='article__content__header'>{title}</h3>\n                <p className='article__content__text'>{points} points by {author} | {num_comments} comments</p>\n                <div className='article__content__btn-container'>\n                    <a \n                    href={url}\n                    target='_blank'\n                    rel='noopener noreferrer'\n                    className='article__content__btn-container__link'\n                    >\n                        Read more\n                    </a>\n                    <button\n                    className='article__content__btn-container__btn' \n                    onClick={()=>handleRemove(objectID)}\n                    >\n                        remove\n                    </button>\n                </div>\n                    </article>\n            )})}\n        </div>\n    )\n}\n\nexport default Articles\n","import React from 'react'\nimport SearchForm from './SearchForm'\nimport Buttons from './Buttons'\nimport Articles from './Articles'\n\nfunction App() {\n  return (\n    <>\n      <SearchForm />\n      <Buttons />\n      <Articles />\n    </>\n  );\n}\n\nexport default App;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport App from './App';\nimport { AppProvider } from './context'\n\nReactDOM.render(\n  <React.StrictMode>\n    <AppProvider>\n      <App />\n    </AppProvider>\n  </React.StrictMode>,\n  document.getElementById('root')\n);\n\n"],"sourceRoot":""}