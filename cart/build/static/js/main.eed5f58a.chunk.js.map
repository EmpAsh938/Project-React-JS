{"version":3,"sources":["context.js","Title.js","Cart.js","App.js","index.js"],"names":["AppContext","createContext","reducer","state","action","type","cartItems","payload","isLoading","newCartItems","filter","item","id","mode","newUpdatedItem","map","amount","newUpdateItem","reduce","acc","totalAmount","Number","price","totalQuantity","quantity","Error","initialState","AppProvider","children","useReducer","dispatch","fetchRequest","a","fetch","request","json","response","useEffect","Provider","value","removeItem","clearCart","updateAmount","effect","Title","useContext","className","Cart","length","title","img","src","alt","onClick","toFixed","App","ReactDOM","render","StrictMode","document","getElementById"],"mappings":"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","file":"static/js/main.eed5f58a.chunk.js","sourcesContent":["import React, { createContext, useEffect, useReducer } from \"react\";\n\nexport const AppContext = createContext();\nconst url = \"https://course-api.com/react-useReducer-cart-project\";\n\nconst reducer = (state, action) => {\n  switch (action.type) {\n    case \"FETCH_REQUEST\":\n      return {\n        ...state,\n        cartItems: [...action.payload],\n        isLoading: false,\n      };\n    case \"REMOVE_ITEM\":\n      const newCartItems = state.cartItems.filter(\n        (item) => item.id !== action.payload\n      );\n      return {\n        ...state,\n        cartItems: newCartItems,\n      };\n    case \"CLEAR_CART\":\n      return {\n        ...state,\n        cartItems: [],\n      };\n    case \"UPDATE_AMOUNT\":\n      if (action.payload.mode === \"INC\") {\n        const newUpdatedItem = state.cartItems.map((item) => {\n          if (item.id === action.payload.id) {\n            return { ...item, amount: item.amount + 1 };\n          } else {\n            return item;\n          }\n        });\n        return {\n          ...state,\n          cartItems: newUpdatedItem,\n        };\n      } else if (action.payload.mode === \"DEC\") {\n        const newUpdateItem = state.cartItems\n          .map((item) => {\n            if (item.id === action.payload.id) {\n              return { ...item, amount: item.amount - 1 };\n            } else {\n              return item;\n            }\n          })\n          .filter((item) => item.amount >= 1);\n        return {\n          ...state,\n          cartItems: newUpdateItem,\n        };\n      }\n      break;\n    case \"TOTAL_ITEMS\":\n      const { totalAmount, totalQuantity } = state.cartItems.reduce(\n        (acc, item) => {\n          acc.totalAmount = Number(item.price) * item.amount + acc.totalAmount;\n          acc.totalQuantity = item.amount + acc.totalQuantity;\n          return acc;\n        },\n        { totalAmount: 0, totalQuantity: 0 }\n      );\n      return {\n        ...state,\n        amount: totalAmount,\n        quantity: totalQuantity,\n      };\n    default:\n      throw new Error(\"No Matching action type found\");\n  }\n};\n\nconst initialState = {\n  cartItems: [],\n  isLoading: true,\n  amount: 999.99,\n  quantity: 9,\n};\n\nconst AppProvider = ({ children }) => {\n  const [state, dispatch] = useReducer(reducer, initialState);\n\n  const fetchRequest = async () => {\n    const request = await fetch(url);\n    const response = await request.json();\n    dispatch({ type: \"FETCH_REQUEST\", payload: response });\n    dispatch({ type: \"TOTAL_ITEMS\" });\n  };\n\n  const removeItem = (id) => {\n    dispatch({ type: \"REMOVE_ITEM\", payload: id });\n    dispatch({ type: \"TOTAL_ITEMS\" });\n  };\n\n  const clearCart = () => {\n    dispatch({ type: \"CLEAR_CART\" });\n    dispatch({ type: \"TOTAL_ITEMS\" });\n  };\n\n  const updateAmount = (id, effect) => {\n    dispatch({ type: \"UPDATE_AMOUNT\", payload: { id: id, mode: effect } });\n    dispatch({ type: \"TOTAL_ITEMS\" });\n  };\n\n  useEffect(() => {\n    fetchRequest();\n  }, []);\n\n  return (\n    <AppContext.Provider\n      value={{\n        ...state,\n        removeItem,\n        clearCart,\n        updateAmount,\n      }}\n    >\n      {children}\n    </AppContext.Provider>\n  );\n};\n\nexport default AppProvider;\n","import { useContext } from \"react\";\nimport { FaShoppingBasket } from \"react-icons/fa\";\nimport { AppContext } from \"./context\";\n\nconst Title = () => {\n  const { quantity } = useContext(AppContext);\n  return (\n    <header>\n      <nav>\n        <h2 className=\"title\">useReducer</h2>\n        <div className=\"cart-icon\">\n          <FaShoppingBasket />\n          <span className=\"total-items\">{quantity}</span>\n        </div>\n      </nav>\n    </header>\n  );\n};\n\nexport default Title;\n","import { useContext } from \"react\";\nimport { AppContext } from \"./context\";\nimport { FaAngleUp, FaAngleDown } from \"react-icons/fa\";\n\nconst Cart = () => {\n  const { cartItems, amount, removeItem, clearCart, updateAmount } = useContext(\n    AppContext\n  );\n  return (\n    <article className=\"cart\">\n      <h1 className=\"cart-title\">Your Bag</h1>\n      {cartItems.length < 1 ? (\n        <p className=\"items-none\">is currently empty</p>\n      ) : (\n        <div className=\"item-container\">\n          {cartItems.map((item) => {\n            const { id, title, img, price, amount } = item;\n            return (\n              <div className=\"items\" key={id}>\n                <div className=\"item-wrapper\">\n                  <img src={img} alt={title} />\n                  <div className=\"items-info\">\n                    <h3 className=\"items-title\">{title}</h3>\n                    <p>${price}</p>\n                    <button className=\"btn\" onClick={() => removeItem(id)}>\n                      remove\n                    </button>\n                  </div>\n                </div>\n                <div className=\"quantity\">\n                  <button\n                    className=\"btn\"\n                    onClick={() => updateAmount(id, \"INC\")}\n                  >\n                    <FaAngleUp />\n                  </button>\n                  <p>{amount}</p>\n                  <button\n                    className=\"btn\"\n                    onClick={() => updateAmount(id, \"DEC\")}\n                  >\n                    <FaAngleDown />\n                  </button>\n                </div>\n              </div>\n            );\n          })}\n          <div className=\"cart-total\">\n            <h4 className=\"items-title\">Total</h4>\n            <p className=\"items-title\">${amount.toFixed(2)}</p>\n          </div>\n          <div className=\"btn-container\">\n            <button className=\"clear-btn\" onClick={clearCart}>\n              Clear Cart\n            </button>\n          </div>\n        </div>\n      )}\n    </article>\n  );\n};\n\nexport default Cart;\n","import Title from \"./Title\";\nimport Cart from \"./Cart\";\nimport { useContext } from \"react\";\nimport { AppContext } from \"./context\";\n\nfunction App() {\n  const { isLoading } = useContext(AppContext);\n  if (isLoading) {\n    return (\n      <div className=\"loader\">\n        <h1>Loading...</h1>\n      </div>\n    );\n  }\n  return (\n    <section>\n      <Title />\n      <Cart />\n    </section>\n  );\n}\n\nexport default App;\n","import React from \"react\";\nimport ReactDOM from \"react-dom\";\nimport \"./index.css\";\nimport App from \"./App\";\nimport AppProvider from \"./context\";\n\nReactDOM.render(\n  <React.StrictMode>\n    <AppProvider>\n      <App />\n    </AppProvider>\n  </React.StrictMode>,\n  document.getElementById(\"root\")\n);\n"],"sourceRoot":""}