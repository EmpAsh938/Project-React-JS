(this.webpackJsonpcart=this.webpackJsonpcart||[]).push([[0],{17:function(t,e,c){},22:function(t,e,c){"use strict";c.r(e);var a=c(2),n=c.n(a),r=c(9),s=c.n(r),i=(c(17),c(5)),o=c(8),j=c.n(o),u=c(10),l=c(11),d=c(12),b=c(1),m=c(0),O=Object(a.createContext)(),h=function(t,e){switch(e.type){case"FETCH_REQUEST":return Object(b.a)(Object(b.a)({},t),{},{cartItems:Object(d.a)(e.payload),isLoading:!1});case"REMOVE_ITEM":var c=t.cartItems.filter((function(t){return t.id!==e.payload}));return Object(b.a)(Object(b.a)({},t),{},{cartItems:c});case"CLEAR_CART":return Object(b.a)(Object(b.a)({},t),{},{cartItems:[]});case"UPDATE_AMOUNT":if("INC"===e.payload.mode){var a=t.cartItems.map((function(t){return t.id===e.payload.id?Object(b.a)(Object(b.a)({},t),{},{amount:t.amount+1}):t}));return Object(b.a)(Object(b.a)({},t),{},{cartItems:a})}if("DEC"===e.payload.mode){var n=t.cartItems.map((function(t){return t.id===e.payload.id?Object(b.a)(Object(b.a)({},t),{},{amount:t.amount-1}):t})).filter((function(t){return t.amount>=1}));return Object(b.a)(Object(b.a)({},t),{},{cartItems:n})}break;case"TOTAL_ITEMS":var r=t.cartItems.reduce((function(t,e){return t.totalAmount=Number(e.price)*e.amount+t.totalAmount,t.totalQuantity=e.amount+t.totalQuantity,t}),{totalAmount:0,totalQuantity:0}),s=r.totalAmount,i=r.totalQuantity;return Object(b.a)(Object(b.a)({},t),{},{amount:s,quantity:i});default:throw new Error("No Matching action type found")}},p={cartItems:[],isLoading:!0,amount:999.99,quantity:9},x=function(t){var e=t.children,c=Object(a.useReducer)(h,p),n=Object(l.a)(c,2),r=n[0],s=n[1],i=function(){var t=Object(u.a)(j.a.mark((function t(){var e,c;return j.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,fetch("https://course-api.com/react-useReducer-cart-project");case 2:return e=t.sent,t.next=5,e.json();case 5:c=t.sent,s({type:"FETCH_REQUEST",payload:c}),s({type:"TOTAL_ITEMS"});case 8:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}}();return Object(a.useEffect)((function(){i()}),[]),Object(m.jsx)(O.Provider,{value:Object(b.a)(Object(b.a)({},r),{},{removeItem:function(t){s({type:"REMOVE_ITEM",payload:t}),s({type:"TOTAL_ITEMS"})},clearCart:function(){s({type:"CLEAR_CART"}),s({type:"TOTAL_ITEMS"})},updateAmount:function(t,e){s({type:"UPDATE_AMOUNT",payload:{id:t,mode:e}}),s({type:"TOTAL_ITEMS"})}}),children:e})},f=function(){var t=Object(a.useContext)(O).quantity;return Object(m.jsx)("header",{children:Object(m.jsxs)("nav",{children:[Object(m.jsx)("h2",{className:"title",children:"useReducer"}),Object(m.jsxs)("div",{className:"cart-icon",children:[Object(m.jsx)(i.c,{}),Object(m.jsx)("span",{className:"total-items",children:t})]})]})})},y=function(){var t=Object(a.useContext)(O),e=t.cartItems,c=t.amount,n=t.removeItem,r=t.clearCart,s=t.updateAmount;return Object(m.jsxs)("article",{className:"cart",children:[Object(m.jsx)("h1",{className:"cart-title",children:"Your Bag"}),e.length<1?Object(m.jsx)("p",{className:"items-none",children:"is currently empty"}):Object(m.jsxs)("div",{className:"item-container",children:[e.map((function(t){var e=t.id,c=t.title,a=t.img,r=t.price,o=t.amount;return Object(m.jsxs)("div",{className:"items",children:[Object(m.jsxs)("div",{className:"item-wrapper",children:[Object(m.jsx)("img",{src:a,alt:c}),Object(m.jsxs)("div",{className:"items-info",children:[Object(m.jsx)("h3",{className:"items-title",children:c}),Object(m.jsxs)("p",{children:["$",r]}),Object(m.jsx)("button",{className:"btn",onClick:function(){return n(e)},children:"remove"})]})]}),Object(m.jsxs)("div",{className:"quantity",children:[Object(m.jsx)("button",{className:"btn",onClick:function(){return s(e,"INC")},children:Object(m.jsx)(i.b,{})}),Object(m.jsx)("p",{children:o}),Object(m.jsx)("button",{className:"btn",onClick:function(){return s(e,"DEC")},children:Object(m.jsx)(i.a,{})})]})]},e)})),Object(m.jsxs)("div",{className:"cart-total",children:[Object(m.jsx)("h4",{className:"items-title",children:"Total"}),Object(m.jsxs)("p",{className:"items-title",children:["$",c.toFixed(2)]})]}),Object(m.jsx)("div",{className:"btn-container",children:Object(m.jsx)("button",{className:"clear-btn",onClick:r,children:"Clear Cart"})})]})]})};var v=function(){return Object(a.useContext)(O).isLoading?Object(m.jsx)("div",{className:"loader",children:Object(m.jsx)("h1",{children:"Loading..."})}):Object(m.jsxs)("section",{children:[Object(m.jsx)(f,{}),Object(m.jsx)(y,{})]})};s.a.render(Object(m.jsx)(n.a.StrictMode,{children:Object(m.jsx)(x,{children:Object(m.jsx)(v,{})})}),document.getElementById("root"))}},[[22,1,2]]]);
//# sourceMappingURL=main.eed5f58a.chunk.js.map